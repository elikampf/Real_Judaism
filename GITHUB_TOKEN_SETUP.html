<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Token Setup Guide</title>
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            background: #f8fafc;
        }

        .container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        h1 {
            color: #1e3a8a;
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 0.5rem;
        }

        h2 {
            color: #374151;
            margin-top: 2rem;
            border-left: 4px solid #3b82f6;
            padding-left: 1rem;
        }

        .step {
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .step-number {
            background: #3b82f6;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 1rem;
        }

        .code {
            background: #1f2937;
            color: #f9fafb;
            padding: 1rem;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', monospace;
            overflow-x: auto;
            margin: 1rem 0;
        }

        .warning {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            color: #92400e;
            padding: 1rem;
            border-radius: 6px;
            margin: 1rem 0;
        }

        .success {
            background: #dcfce7;
            border: 1px solid #16a34a;
            color: #166534;
            padding: 1rem;
            border-radius: 6px;
            margin: 1rem 0;
        }

        .button {
            background: #3b82f6;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            text-decoration: none;
            display: inline-block;
            margin: 0.5rem 0;
            font-weight: 600;
        }

        .button:hover {
            background: #2563eb;
        }

        .token-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #d1d5db;
            border-radius: 6px;
            font-family: monospace;
            font-size: 0.9rem;
            margin: 0.5rem 0;
        }

        .copy-button {
            background: #6b7280;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            margin-left: 0.5rem;
        }

        .copy-button:hover {
            background: #4b5563;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîë GitHub Personal Access Token Setup</h1>

        <div class="warning">
            <strong>‚ö†Ô∏è Security Notice:</strong> Keep your GitHub token secure and never share it publicly. This token allows programmatic access to your repository.
        </div>

        <h2>üìã Step-by-Step Instructions</h2>

        <div class="step">
            <div class="step-number">1</div>
            <strong>Go to GitHub Settings</strong>
            <br>
            Visit: <a href="https://github.com/settings/tokens" class="button" target="_blank">GitHub Personal Access Tokens</a>
            <br><br>
            Or navigate manually:
            <ol>
                <li>Click your profile picture (top-right) ‚Üí Settings</li>
                <li>Scroll down to "Developer settings" (left sidebar)</li>
                <li>Click "Personal access tokens" ‚Üí "Tokens (classic)"</li>
            </ol>
        </div>

        <div class="step">
            <div class="step-number">2</div>
            <strong>Generate New Token</strong>
            <br>
            Click the "Generate new token (classic)" button
        </div>

        <div class="step">
            <div class="step-number">3</div>
            <strong>Configure Token</strong>
            <br>
            Fill in the form:
            <ul>
                <li><strong>Note:</strong> "Real Judaism Podcast Admin"</li>
                <li><strong>Expiration:</strong> Select "No expiration" or choose a long period (1 year)</li>
                <li><strong>Select scopes:</strong> Check these boxes:
                    <ul>
                        <li>‚úÖ <code>repo</code> (Full control of private repositories)</li>
                        <li>‚úÖ <code>workflow</code> (Update GitHub Action workflows)</li>
                    </ul>
                </li>
            </ul>
        </div>

        <div class="step">
            <div class="step-number">4</div>
            <strong>Generate and Copy Token</strong>
            <br>
            Click "Generate token" at the bottom
            <br>
            <strong>‚ö†Ô∏è IMPORTANT:</strong> Copy the token immediately - you won't see it again!
        </div>

        <div class="step">
            <div class="step-number">5</div>
            <strong>Add Token to Admin Panel</strong>
            <br>
            Open your <code>admin.html</code> file and find this line:
            <div class="code">const GITHUB_TOKEN = ''; // This will be set via environment or you can hardcode a personal access token</div>

            Replace it with your token:
            <div class="code">const GITHUB_TOKEN = 'ghp_your_token_here';</div>

            <div style="margin-top: 1rem;">
                <strong>Token:</strong>
                <input type="text" class="token-input" id="tokenInput" placeholder="Paste your GitHub token here">
                <button class="copy-button" onclick="copyToken()">Copy to Admin Code</button>
            </div>
        </div>

        <h2>üß™ Test the Setup</h2>

        <div class="success">
            <strong>‚úÖ How to test:</strong>
            <ol>
                <li>Upload your updated <code>admin.html</code> to your website</li>
                <li>Visit <code>https://yourdomain.com/admin.html</code></li>
                <li>Enter admin password</li>
                <li>Try clicking "Update All Podcasts"</li>
                <li>Check GitHub Actions tab for triggered workflow</li>
            </ol>
        </div>

        <h2>üîß Troubleshooting</h2>

        <div class="warning">
            <strong>Common Issues:</strong>
            <ul>
                <li><strong>"Bad credentials"</strong> ‚Üí Check token is correct and not expired</li>
                <li><strong>"Insufficient scope"</strong> ‚Üí Ensure 'repo' and 'workflow' scopes are selected</li>
                <li><strong>"Repository not found"</strong> ‚Üí Verify repository name and owner in admin.html</li>
                <li><strong>Token expired</strong> ‚Üí Generate a new token if it has expired</li>
            </ul>
        </div>

        <h2>üîí Security Best Practices</h2>

        <ul>
            <li>‚úÖ Never commit tokens to version control</li>
            <li>‚úÖ Use tokens with minimal required permissions</li>
            <li>‚úÖ Rotate tokens regularly</li>
            <li>‚úÖ Delete unused tokens</li>
            <li>‚úÖ Use HTTPS when accessing admin panel</li>
        </ul>

        <div class="success">
            <strong>üéâ Success!</strong> Once configured, you'll be able to manually trigger podcast updates from your admin panel anytime!
        </div>
    </div>

    <script>
        function copyToken() {
            const token = document.getElementById('tokenInput').value;
            if (!token) {
                alert('Please paste your GitHub token first!');
                return;
            }

            const code = `const GITHUB_TOKEN = '${token}';`;
            navigator.clipboard.writeText(code).then(() => {
                alert('‚úÖ Token code copied to clipboard!\n\nPaste this into your admin.html file.');
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = code;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('‚úÖ Token code copied to clipboard!');
            });
        }
    </script>
</body>
</html>
